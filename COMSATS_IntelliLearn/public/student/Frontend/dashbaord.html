<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Dashbaord</title>
    <link rel="stylesheet" href="./Assets/Style/student.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/viewerjs/1.11.1/viewer.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">  
    <link rel="icon" type="image/png" href="./Assets/Images/logo.jpg">
</head>
<body>
    <div class="container-fluid">
        <div class="navigation">
            <ul>
                <li>
                    <a href="#">
                        <span class="icon"><ion-icon name="school-outline"></ion-icon></span>
                        <span class="title">COMSATS Intelli-learn</span>
                    </a>
                </li>
                <li>
                    <a href="#" data-section="home">
                        <span class="icon"><ion-icon name="home-outline"></ion-icon></span>
                        <span class="title">Home</span>
                    </a>
                </li>
                <li>
                    <a href="#" data-section="joinmeeting">
                        <span class="icon"><ion-icon name="book-outline"></ion-icon></span>
                        <span class="title">Courses</span>
                    </a>
                </li>
                <li>
                    <a href="#" data-section="accountsetttings">
                        <span class="icon"><ion-icon name="newspaper-outline"></ion-icon></span>
                        <span class="title">Quiz</span>
                    </a>
                </li>
                <li>
                    <a href="#" id="signoutLink">
                        <span class="icon"><ion-icon name="log-out-outline"></ion-icon></span>
                        <span class="title">Signout</span>
                    </a>
                </li>
            </ul>
        </div> 
        <div class="main">
            <div class="topbar">
                <div class="toggle">
                    <ion-icon name="menu-outline"></ion-icon>
                </div>
                <p class="p">Student DASHBAORD</p>
        </div>
        <!----cards --> 

        <div class="cardBox">
            <div class="card">
                <div>
                <div class="numbers">Course</div>
                <div class="cardName">With Tutor</div>
            </div>
            <div class="iconBx">
                <ion-icon name="briefcase-outline"></ion-icon>
            </div>
        </div>
        <div class="card">
            <div>
            <div class="numbers">Join Class</div>
            <div class="cardName">Meeting</div>
        </div>
        <div class="iconBx">
            <ion-icon name="add-circle-outline"></ion-icon>
        </div>
    </div>
    <div class="card">
        <div>
        <div class="numbers">Enroll any</div>
        <div class="cardName">TUTOR</div>
    </div>
    <div class="iconBx">
        <ion-icon name="arrow-forward-circle-outline"></ion-icon>
    </div>
</div>
<div class="card">
    <div>
    <div class="numbers">Quiz</div>
    <div class="cardName">By Tutor</div>
</div> 
    <div class="iconBx">
        <ion-icon name="clipboard-outline"></ion-icon>
    </div>
</div>
        </div>
 <!-- Card Content Divs -->
 <div class="content hidden basicInfoDiv" id="coursesContainer">
    <div id="vedcourse">
        <div class="showcontainer">
            <h4>Vedio Lectures:</h4>
            <div id="videolecture"></div>
            <h4>File Lecture:</h4>   
        <div id="filelecture">
            
        </div>
        </div>
    </div>
</div>

<div class="content hidden arrangeMeetingDiv">
    <input type="text" id="meetingLink" class="input-field" style=" background: rgba(255, 255, 255, 0.7); padding: 8px;
    margin: 5px;
    border: 1px solid #ccc;
    border-radius: 4px; width: 400px;" placeholder="Enter link to join Meeting">
    <button type="submit" class="submit" style="color: black;  padding: 8px 16px;
    margin: 5px;
    border: none;
    border-radius: 4px;
    background-color: white;
    color: black;
    cursor: pointer;" id="loginButton">Join</button>
</div>

<div class="content hidden joinClassDiv" style="padding: 10px;">
    <h2>Currently Enroll Tutor</h2>
    <table>
        <thead style="background: linear-gradient(rgba(39, 39, 39, 0.4), rgba(39, 39, 39, 0.4));">
            <tr>
                
                <td style="text-align: center;">Tutor Name</td>
                <td style="text-align: center;">tutor Subject</td>
                <td style="text-align: center;">Tutor Email</td>
                <td style="text-align: center;">View Courses</td>
            </tr>
        </thead>
        <tbody id="enrollTutorBody" style="background-color: #fff;">

        </tbody>
    </table>
    <h2>Enroll Tutor</h2>
    <!-- <p> According to you</p> -->
    <table>
        <thead style="background: linear-gradient(rgba(39, 39, 39, 0.4), rgba(39, 39, 39, 0.4));">
            <tr>
                <td>Tutor Image</td>
                <td>Tutor Name</td>
                <td>tutor Subject</td>
                <td>Tutor Email</td>
                <td>Enroll</td>
            </tr>
        </thead>
        <tbody id="tableBody" style="background-color: #fff;">
        </tbody>
    </table>
</div>

<div class="content hidden totalStudentsDiv">
    <h2>Total Students</h2>
    <p>This is the total students content.</p>
</div>




<!-- join meeting code -->
<div class="joinmeeting hidden">
    <div class="search">
        <label class="searchbar">
    <input type="text" id="searchInput" placeholder="search your course">

    <button class="searchbtn" onclick="searchVideos()">Search</button>
</label>
</div> 
<div id="notFoundMessage" class="notFoundMessage">
    <p>Not Found</p>
</div>  
      
        <div class="video-container">
            <div id="player"></div>
        </div>
        <div id="text">Other videos of Playlist</div>
        <div class="thumbnails-container" id="thumbnails-container"></div>
    </div>
</div>

<!-- account settting code here -->
    <div class="accountsetttings hidden">
        <div id="showcategory" class="showcategory">
            <div class="whitecontainer">
                
                <h4>Select your Quiz Category</h2>
            </div>
            <div class="quizmarks">
                
            </div>
        </div>
        </div>
    </div> 
 

<script src="https://www.youtube.com/iframe_api"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/viewerjs/1.11.1/viewer.min.js"></script>
<script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.bundle.min.js"></script>
<script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
<script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
<script src="./Assets/JS/enroll.js"></script>
<script src="./Assets/JS/course.js"></script>
<script src="./Assets/JS/quizshow.js"></script>
<script src="./Assets/JS/showtutorcourse.js"></script>
<script>

function toggleSection(sectionName) {
            const joinmeeting = document.querySelector('.joinmeeting');
            const accountsetttings = document.querySelector('.accountsetttings');
            const cardBox = document.querySelector('.cardBox');
            const basicInfoDiv = document.querySelector('.basicInfoDiv');
            const arrangeMeetingDiv = document.querySelector('.arrangeMeetingDiv');
            const joinClassDiv = document.querySelector('.joinClassDiv');
            const totalStudentsDiv = document.querySelector('.totalStudentsDiv');

            if (sectionName === 'joinmeeting') {
                joinmeeting.classList.remove('hidden');
                accountsetttings.classList.add('hidden');
                cardBox.classList.add('hidden');
                
            } else if (sectionName === 'accountsetttings') {
                joinmeeting.classList.add('hidden');
                accountsetttings.classList.remove('hidden');
                cardBox.classList.add('hidden');
               
            } else if (sectionName === 'home') {
                joinmeeting.classList.add('hidden');
                accountsetttings.classList.add('hidden');
                cardBox.classList.remove('hidden');
               
            }else if (sectionName === 'basicInfo') {
                    basicInfoDiv.classList.toggle('hidden');
                    arrangeMeetingDiv.classList.add('hidden');
                    joinClassDiv.classList.add('hidden');
                    totalStudentsDiv.classList.add('hidden');
            } else if (sectionName === 'arrangeMeeting') {
                    basicInfoDiv.classList.add('hidden');
                    arrangeMeetingDiv.classList.toggle('hidden');
                    joinClassDiv.classList.add('hidden');
                    totalStudentsDiv.classList.add('hidden');
            } else if (sectionName === 'joinClass') {
                    basicInfoDiv.classList.add('hidden');
                    arrangeMeetingDiv.classList.add('hidden');
                    joinClassDiv.classList.toggle('hidden');
                    totalStudentsDiv.classList.add('hidden');
            } else if (sectionName === 'totalStudents') {
                    basicInfoDiv.classList.add('hidden');
                    arrangeMeetingDiv.classList.add('hidden');
                    joinClassDiv.classList.add('hidden');
                    totalStudentsDiv.classList.toggle('hidden');
            }
        }
// Event listener for navigation clicks
        const navigationLinks = document.querySelectorAll('.navigation li a');
            navigationLinks.forEach(link => {
                link.addEventListener('click', function (event) {
                    event.preventDefault();
                    const sectionName = this.getAttribute('data-section');
                    toggleSection(sectionName);
                });
            });

        // Toggle functionality for menu
        let toggle = document.querySelector('.toggle');
        let navigation = document.querySelector('.navigation');
        let main = document.querySelector('.main');

        toggle.onclick = function () {
            navigation.classList.toggle('active');
            main.classList.toggle('navigation-active');
            document.querySelector('.topbar').classList.toggle('resp-hamburger')
        };

        // Function to highlight hovered links
        let list = document.querySelectorAll('.navigation li');
        function activateLink() {
            list.forEach(item => item.classList.remove('hovered'));
            this.classList.add('hovered');
        }
        list.forEach(item => item.addEventListener('mouseover', activateLink));

        // Event listeners for card clicks
        document.querySelector('.card:nth-child(1)').addEventListener('click', function () {
                toggleSection('basicInfo');
            });
            document.querySelector('.card:nth-child(2)').addEventListener('click', function () {
                toggleSection('arrangeMeeting');
            });
            document.querySelector('.card:nth-child(3)').addEventListener('click', function () {
                toggleSection('joinClass');
            });
            document.querySelector('.card:nth-child(4)').addEventListener('click', function () {
                toggleSection('totalStudents');
            });

        
        document.addEventListener('DOMContentLoaded', function() {
        const signoutLink = document.getElementById('signoutLink');

        signoutLink.addEventListener('click', function(event) {
        event.preventDefault(); // Prevent the default link behavior
        
        // Perform any other necessary actions (e.g., send a fetch request to the server)
        fetch('/logout', {
            method: 'GET',
            // Additional options like headers or credentials can be added here if needed
        })
        .then(response => {
            // Handle the response from the server as needed
            // console.log('Logout request sent successfully');
            // Redirect the user or perform other actions after successful logout
            window.location.href = '/public/student/Frontend/s_index.html';
        })
        .catch(error => {
            console.error('Error sending logout request:', error);
            // Handle any errors that occurred during the request
        });
    });
});


</script>
<script>
    document.getElementById('loginButton').addEventListener('click', function() {
        var link = document.getElementById('meetingLink').value;
        if (link !== '') {
            window.open(link, '_blank');
        } else {
            toastr.warning('with your tutor meeting','Enter Link to join',{timeOut: 1000})
        }
    });
    </script>

</body>
</html>